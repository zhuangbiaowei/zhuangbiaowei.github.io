<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /> <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]--> <title>软件开发文档的持续集成</title> <meta name="description" content="大多数程序员，都极度痛恨写文档。Coding是愉快的，而Write是痛苦的。有一部分原因，其实是要归咎于程序员自身，以我的经验，很多程序员往往会“艰于表达”，尤其是用“文字、图表、PPT、Word”之类的Office Document来表达。当然，还有一部分原因，是由于很多项目开发实践中，文档的前后矛盾、形式主义..."> <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600|Droid+Sans+Mono' rel='stylesheet' type='text/css'> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="http://localhost:4040/thinking/it/2014/06/09/CI-for-document.html"> <link rel="alternate" type="application/rss+xml" title="读书、思考、生活" href="http://localhost:4040/feed.xml" /> <link rel="icon" type="image/png" href="/assets/icon/favicon-32x32.png" sizes="32x32" /> <link rel="icon" type="image/png" href="/assets/icon/favicon-16x16.png" sizes="16x16" /> <script src="/assets/js/prefixfree.js"></script> </head> <body> <aside id="sidebar"> <div id="sidebar-left"> <a id="sidebar-avatar" href="/"> <img id="sidebar-avatar-img" alt="" src="/assets/img/avatar.jpg"/> </a> <div id="sidebar-social"> <a href="/feed.xml" class="sidebar-social-icon feed"></a> <a href="mailto:zhuangbiaowei@gmail.com" class="sidebar-social-icon email"></a> <a href="http://www.weibo.com/zhuangbiaowei" class="sidebar-social-icon weibo" target="_blank"></a> <a href="https://github.com/zhuangbiaowei" class="sidebar-social-icon github" target="_blank"></a> </div> <ul id="sidebar-tags"> <li class="sidebar-tag active" data-filter="all">全部文章</li> <li class="sidebar-tag" data-filter="OpenSource">OpenSource</li> <li class="sidebar-tag" data-filter="SoftwareEngineer">SoftwareEngineer</li> <li class="sidebar-tag" data-filter="Product">Product</li> <li class="sidebar-tag" data-filter="BookReview">BookReview</li> <li class="sidebar-tag" data-filter="Programming">Programming</li> <li class="sidebar-tag" data-filter="Essay">Essay</li> <li class="sidebar-tag" data-filter="Cloud">Cloud</li> <li class="sidebar-tag" data-filter="FreeSoftware">FreeSoftware</li> <li class="sidebar-tag" data-filter="Community">Community</li> <li class="sidebar-tag" data-filter="Thinking">Thinking</li> <li class="sidebar-tag" data-filter="IT">IT</li> <li class="sidebar-tag" data-filter="Economy">Economy</li> <li class="sidebar-tag" data-filter="psychology">psychology</li> </ul> </div> <div id="sidebar-right"> <div id="select-box"> Years: <select id="select-year"> <option>all</option> <option>2021</option> <option>2020</option> <option>2019</option> <option>2017</option> <option>2016</option> <option>2015</option> <option>2014</option> </select> </div> <nav id="toc"> <a class="toc-link" data-tags="Essay" data-year="2021" href="/complexworld/2021/02/17/about-code-2-0.html"> 围绕Code 2.0的一些随感 </a> <a class="toc-link" data-tags="Essay" data-year="2020" href="/dairy/2020/12/31/Goodbye-2020.html"> 再见 2020 </a> <a class="toc-link" data-tags="Thinking" data-year="2020" href="/reading/2020/12/20/Reading-Notes.html"> 读书札记 </a> <a class="toc-link" data-tags="Essay" data-year="2019" href="/dairy/2019/04/05/about-996.html"> 漫谈996 </a> <a class="toc-link" data-tags="Essay" data-year="2017" href="/dairy/2017/12/31/annual-summary.html"> 2017年度汉字——转 </a> <a class="toc-link" data-tags="Essay" data-year="2017" href="/dairy/2017/12/16/talk-to-jianshu.html"> 我是一个程序员，我想和简书聊聊 </a> <a class="toc-link" data-tags="psychology" data-year="2017" href="/dairy/2017/05/13/scarcity-psychology.html"> 一念轮回，以及稀缺心理 </a> <a class="toc-link" data-tags="Community Economy" data-year="2017" href="/dairy/2017/04/30/knowledge-economy.html"> 聊聊“知识经济” </a> <a class="toc-link" data-tags="Community" data-year="2017" href="/dairy/2017/02/25/about-gitchat.html"> 为啥我现在沉迷于GitChat </a> <a class="toc-link" data-tags="Essay" data-year="2016" href="/reading/2016/12/31/about-reading.html"> 2016--聊聊读书 </a> <a class="toc-link" data-tags="Essay" data-year="2016" href="/reading/2016/10/05/freedom-to-read.html"> 阅读的自由 </a> <a class="toc-link" data-tags="Essay" data-year="2016" href="/reading/2016/07/09/about-reading-books.html"> 读书的意义在哪里？ </a> <a class="toc-link" data-tags="Essay" data-year="2016" href="/thinking/it/2016/05/02/about-baidu.html"> 如果你非要上百度，这里有三条忠告 </a> <a class="toc-link" data-tags="Thinking" data-year="2016" href="/writing/2016/02/22/writing-freedom-2.html"> 写字的自由——内篇 </a> <a class="toc-link" data-tags="OpenSource" data-year="2016" href="/thinking/it/2016/01/17/gens-collaborative-model.html"> 三代开源社区的协作模式 </a> <a class="toc-link" data-tags="Thinking" data-year="2016" href="/writing/2016/01/11/writing-freedom.html"> 写字的自由——外篇 </a> <a class="toc-link" data-tags="Thinking IT" data-year="2016" href="/thinkingit/2016/01/09/kuaibo-tech-thinking.html"> 快播案，一个猝不及防的时代的缩影 </a> <a class="toc-link" data-tags="Essay" data-year="2016" href="/dairy/2016/01/03/40-years-old.html"> 四十不惑——写给2016年的自己 </a> <a class="toc-link" data-tags="Essay" data-year="2015" href="/dairy/2015/12/12/give-up-learning.html"> 你是从什么时候开始放弃学习的？ </a> <a class="toc-link" data-tags="Essay" data-year="2015" href="/dairy/2015/11/30/Talking-about-lifelong-learning.html"> 聊聊终生学习这件事 </a> <a class="toc-link" data-tags="Essay" data-year="2015" href="/thinking/it/2015/10/25/self-cultivation-of-architects.html"> 论架构师的自我修养 </a> <a class="toc-link" data-tags="Community" data-year="2015" href="/dairy/2015/07/05/I-wish-there-was-a-slow-community.html"> 从前慢——我希望有一个「慢社区」 </a> <a class="toc-link" data-tags="OpenSource FreeSoftware" data-year="2015" href="/thinking/it/2015/05/04/Free-Software-vs-Open-Source.html"> Free Software vs. Open Source </a> <a class="toc-link" data-tags="OpenSource" data-year="2015" href="/thinking/it/2015/05/03/How-to-evaluate-a-new-technology.html"> 如何评价一个新技术——以Docker为例 </a> <a class="toc-link" data-tags="Essay" data-year="2015" href="/thinking/it/2015/03/25/a-future-that-is-not-too-gray.html"> 不会太灰暗的未来 </a> <a class="toc-link" data-tags="OpenSource" data-year="2015" href="/thinking/it/2015/03/11/Open-source-attention-economy.html"> 开源项目也要讲注意力经济 </a> <a class="toc-link" data-tags="Cloud" data-year="2015" href="/thinking/it/2015/03/01/experience.exe.html"> experience.exe </a> <a class="toc-link" data-tags="OpenSource" data-year="2015" href="/thinking/it/2015/02/08/about-openssl.html"> OpenSSL是否值得同情？ </a> <a class="toc-link" data-tags="Essay" data-year="2014" href="/dairy/2014/12/31/my-2014.html"> 转、进、定——我的2014 </a> <a class="toc-link" data-tags="Essay" data-year="2014" href="/dairy/2014/08/18/Dont-be-afraid-to-be-a-fool.html"> 不要害怕做一个傻瓜 </a> <a class="toc-link" data-tags="OpenSource" data-year="2014" href="/thinking/it/2014/06/11/What-can-I-do-for-open-source.html"> 我能为开源做些什么？ </a> <a class="toc-link" data-tags="SoftwareEngineer" data-year="2014" href="/thinking/it/2014/06/11/GUI-2-ways.html"> 图形用户界面(GUI)应用开发的两种思路 </a> <a class="toc-link" data-tags="SoftwareEngineer" data-year="2014" href="/thinking/it/2014/06/10/Definition-of-Software-Development.html"> 定论——软件开发的方法论探讨 </a> <a class="toc-link" data-tags="Product" data-year="2014" href="/thinking/it/2014/06/09/fans-and-requirements.html"> 我是凉粉|《机器人历险记》|Web 2.0 </a> <a class="toc-link" data-tags="Programming" data-year="2014" href="/thinking/it/2014/06/09/An-unforgivable-bug.html"> 一个不可原谅的bug </a> <a class="toc-link" data-tags="SoftwareEngineer" data-year="2014" href="/thinking/it/2014/06/09/CI-for-document.html"> 软件开发文档的持续集成 </a> <a class="toc-link" data-tags="Product" data-year="2014" href="/thinking/it/2014/06/08/ajax-ide.html"> 理想中的Ajax IDE </a> <a class="toc-link" data-tags="BookReview" data-year="2014" href="/thinking/it/2014/06/08/code-complete.html"> 《代码大全》——软件开发的世界地图 </a> <a class="toc-link" data-tags="Product" data-year="2014" href="/thinking/it/2014/06/06/online-2.0.html"> ONLINE 2.0，这是一场硬仗！ </a> <a class="toc-link" data-tags="Product" data-year="2014" href="/thinking/it/2014/06/06/Bloglines-del.icio.us.html"> Bloglines+del.icio.us </a> <a class="toc-link" data-tags="" data-year="2014" href="/thinking/it/2014/06/06/knowledge-management.html"> 小型企业知识管理的好办法——Google四件宝 </a> <a class="toc-link" data-tags="" data-year="2014" href="/thinking/it/2014/06/04/Next-Generation-Search-Engine.html"> 下一代搜索技术的四块积木 </a> <a class="toc-link" data-tags="SoftwareEngineer" data-year="2014" href="/thinking/it/2014/05/31/Tags_and_CMM.html"> 思考tags与主题词、敏捷与CMM、草根与精英 </a> <a class="toc-link" data-tags="SoftwareEngineer" data-year="2014" href="/thinking/it/2014/05/13/Agile-and-others.html"> 聊我所理解的敏捷(Agile)——外一篇 </a> <a class="toc-link" data-tags="" data-year="2014" href="/thinking/it/2014/04/27/power-of-architecture.html"> 架构的力量 </a> <a class="toc-link" data-tags="OpenSource" data-year="2014" href="/thinking/it/2014/04/26/iMIS.html"> iMIS为什么会失败？ </a> <a class="toc-link" data-tags="OpenSource" data-year="2014" href="/thinking/it/2014/04/26/Java-To-Rails.html"> Java社群该向Ruby on Rails学习些什么？ </a> <a class="toc-link" data-tags="OpenSource" data-year="2014" href="/thinking/it/2014/04/24/dreaming-in-code.html"> 外国大牛也不过如此——《梦断代码》读后感 </a> <a class="toc-link" data-tags="" data-year="2014" href="/thinking/it/2014/04/23/SNS-IM-BBS-JavaEye.html"> SNS、IM、BBS与JavaEye </a> </nav> </div> </aside> <main id="main"> <article class="post container"> <div class="post-meta"> <span class="post-meta-span date">2014 June 09</span> <span class="post-meta-span tag">SoftwareEngineer</span> </div> <h1 class="post-title">软件开发文档的持续集成</h1> <p>大多数程序员，都极度痛恨写文档。Coding是愉快的，而Write是痛苦的。有一部分原因，其实是要归咎于程序员自身，以我的经验，很多程序员往往会“艰于表达”，尤其是用“文字、图表、PPT、Word”之类的Office Document来表达。当然，还有一部分原因，是由于很多项目开发实践中，文档的前后矛盾、形式主义、反复修改、歧义重重，常常让程序员们抓狂。</p> <p>UML是一个比较好的工具，但是，仅仅靠UML，是无法将项目的知识描述清楚的。也有不少项目组在引入了UML之后发现，文档的工作量不但没有减少，而是更多了。随着项目的进展，需要维护的设计文档数量，也更多了。也因此造成了更多的前后矛盾，形式主义，反复修改。</p> <p>根本的痛苦，并不在于一开始写一份文档，而在于所有写下的文档，都必须跟随项目的进展而随之变化。当我们写出来的文档越多，需要被持续维护的文档也就越多，需要反复检查文档间的可能存在的矛盾也就越多，所有扔出去的石头，最后都会落回到自己头上。</p> <p>于是，还有不少项目组，将文档工作与代码工作截然分开，文档就写一次，用来应付上面的管理层，而代码自管自的继续开发。对于小型项目来说，这其实是一个不错的权宜之计。但是一旦项目越来越庞大、复杂。所有的隐性的知识，都仅仅存在于程序员的脑子里，所有成文的东西，都可能是错的，而真实的情况，却隐藏在代码之中。如果代码质量再糟糕一些，后来维护的朋友，就遭遇火坑了。</p> <p>文档，写还是不写，这是一个问题！</p> <p>还记得测试驱动开发吗？为自己的每一个方法，每一个类，都写出单元测试来。不但如此，更加彻底的做法是，在写代码之前，先写测试用例。这样才能保证不会忘记写测试用例。更大的好处在于，这样有助于思考、有助于获得更加完善的设计，有助于写出更加高质量的代码，有助于安全的重构，有助于自动化的持续集成实践。总之，是好得不能再好的一项开发实践。</p> <p>这一实践之所以可行，就在于他将繁杂的集中的测试工作，分解为日常的，必须不断进行的工作。当你每天都在写测试用例，当你的每一个测试用例，都能够与代码完全对应时，压力反而减轻了，工作量也更少了，更重要的，一些优良的习惯也因此被养成了。</p> <p>在两年前，我要开始一个全新的P2P网络电视项目时，也在考虑关于文档的问题。当时我发现了Open Source的WikiPedia。这是一个PHP的WIKI，最大的应用是维基百科全书。因此，这个项目的质量就绝对值得信赖。我就将它拿过来，作为我们项目文档管理的工具。</p> <p>用Wiki来管理项目文档，基于以下一些考虑：</p> <ul> <li>文档是项目的知识，这些知识必须集中管理、容易获取、人人可以编辑。</li> <li>项目在生长，代码在增加，文档也必须能够跟随项目自然生长，强行划分设计阶段和开发阶段，是不可取的。</li> <li>Wiki不是传统的项目文档，而是一个应交流需要，可能随时增删改的知识库。项目组的成员，遇到问题，就应该首先查看Wiki，如果这是Wiki中没有，那么他应该找人询问。而那个知道答案的人，如果他不想再今后不断的回答同一问题，就应该把这个答案写入Wiki，这就是Wiki条目增长的自然动力。</li> <li>传统文档最大的问题在于浪费，而Wiki通过持续修改，按需提供的方式，保证了所有写下的文字，一定有超过一个人需要读它。</li> </ul> <p>在Wikipedia的基础上，我又做了一些增强，以更好的辅助项目的管理。</p> <ul> <li>Include功能，增加include标签，可以在一个条目中，引入其他条目的全文，而不是仅仅增加一个link。</li> <li>文档的层次结构，当项目的文档条目逐渐增加，分门别类的条目，更加便于查找，也可以有效的避免条目重名的问题。</li> <li>一个Click，就能够创建新一个条目，用于填写当天的工作安排。</li> </ul> <p>相应的管理制度，也必须建立起来。</p> <ul> <li>每日15分钟文档制度，基于“填写当日工作”的功能，我规定每个项目组成员，每天要花三个5分钟来写文档，早上的5分钟，填写当日工作计划。中午的5分钟填写上午的工作情况，下班前的5分钟，填写下午的工作情况。这样，每天的文档工作相当轻松，但是文档能够保证持续的跟随项目成长下去。更进一步的，这样的制度，对于项目的进度控制，也很有帮助。</li> <li>User Case条目驱动，所有分解出去的User Case，在分配到责任人之后，该责任人的第一项工作，就是在Wiki中写下对于这个User Case的理解。随后项目进展，也应该持续的维护这个条目。</li> <li>同时进行Bug的管理，Bug也作为Wiki中的条目，以便于和其他条目项目引用。</li> <li>每次Check In CVS时，必须写注释。这是更加细节的文档，然后我还做了一个小程序，能够自动的从CVSTrac中读出当天Check In代码的注释。供每个人在写当天文档的时候引用。</li> </ul> <p>总而言之，我对于项目文档的看法，并不是非此即彼的极端主义者。在我看来，好的项目文档管理政策，应该有助于集中团队知识和智慧，同时不要让程序员痛苦和反感。这样才叫做有效的项目管理。仿造Martin Fowler的著名文献《持续集成》，我给这篇Blog起这样一个名字《软件开发文档的持续集成》，希望能够引发更多的、更深入的思考。</p> <p>原文写于：2006年05月12日，现在看来，还是很不错的实践啊。</p> </article> <div class="post-share"> <div class="container"> <a href="https://twitter.com/share?url=http://localhost:4040/thinking/it/2014/06/09/CI-for-document.html&text=软件开发文档的持续集成" target="_blank" class="post-share-icon twitter"></a> <a href="https://www.evernote.com/clip.action?url=http://localhost:4040/thinking/it/2014/06/09/CI-for-document.html&title=软件开发文档的持续集成" target="_blank" class="post-share-icon evernote"></a> <a href="http://service.weibo.com/share/share.php?url=http://localhost:4040/thinking/it/2014/06/09/CI-for-document.html&title=软件开发文档的持续集成" target="_blank" class="post-share-icon weibo"></a> </div> </div> <div class="footer"> <div class="container"> <p class="footer-entry">All content is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA</a></p> <p class="footer-entry">Buit with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll theme</a> • Hosted on <a href="https://pages.github.com/" target="_blank">Github</a></p> </div> </div> </main> <button id="menu"> <span id="menu-icons"></span> </button> <script src="/assets/js/jquery-2.1.3.min.js"></script> <script src="/assets/js/jquery.pjax.js"></script> <script src="/assets/js/nprogress.js"></script> <script src="/assets/js/main.js"></script> </body> </html>
